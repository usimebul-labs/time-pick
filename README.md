# 📅 프로젝트 기획서: TimePick (타임픽)

## 1. 프로젝트 개요
*   **서비스명:** TimePick (타임픽)
*   **슬로건:** "언제 볼까?"라는 말 대신 링크 하나로. 그룹 스케줄링의 끝판왕.
*   **해결 과제:** 단체 채팅방의 무한 일정 조율 굴레와 투표의 번거로움 해결.
*   **핵심 가치:**
    *   **Frictionless:** 비회원 중심, 로그인 없이 5초 만에 참여 시작.
    *   **Smart:** 최적의 시간을 알고리즘이 자동으로 추천 (Best 3).
    *   **Intuitive:** 페인트 칠하듯 쉬운 입력과 직관적인 히트맵 시각화.

## 2. 사용자 분류 및 데이터 관리
### A. 게스트 (비회원 참여자)
*   **진입:** 공유받은 링크 접속 → 닉네임 입력 → 즉시 참여.
*   **식별 및 수정:**
    *   `캘린더ID` + `닉네임` + `PIN(비밀번호 4자리)`로 본인 인증.
    *   **재방문:** 브라우저 `LocalStorage`에 토큰 저장 → 비밀번호 입력 없이 즉시 수정 모드 진입.
    *   **편의 기능:** 다른 참여자의 일정을 그대로 베껴오는 **'일정 복사'** 기능 제공.

### B. 회원 (로그인 유저)
*   **계정:** 구글, 카카오 소셜 로그인.
*   **특전:** 대시보드(내가 만든/참여한 방 모아보기), 구글/애플 캘린더 연동(자동 마스킹).
*   **권한:** 캘린더 설정 변경, 참여자 관리, **일정 확정(Confirm)** 권한.

## 3. 핵심 기능 명세 (User Flow)

### 3.1 [생성] 캘린더 세팅 (호스트)
*   **뷰 모드 선택:**
    1.  **일자형 (Dates):** 여행, 워크샵 등 '날짜'가 중요한 경우.
    2.  **시간형 (Times):** 회의, 식사 등 '시간'이 중요한 경우.
*   **기본 설정:** 기간, 시간 범위(Start/End Time), 타임존.
*   **완료 후:** 초대 링크(일반 참여용)와 관리 링크(호스트 전용)가 생성됨.

### 3.2 [참여] 일정 입력 (모두)
*   **입력 도구:**
    *   **드래그 앤 드롭:** PC(마우스), 모바일(터치) 지원.
    *   **일정 복사 (Copy Schedule):** "나도 철수랑 시간 똑같아" 상황 대응.
        *   참여자 리스트에서 '김철수' 클릭 → **[이 사람 일정 복사하기]** 버튼 → 내 입력창에 자동 반영.
    *   **캘린더 연동(회원):** 외부 캘린더 일정이 있는 시간은 자동으로 '지우개(불가능)' 처리.

### 3.3 [조율] 결과 확인 및 추천
*   **스마트 히트맵 (Smart Heatmap):**
    *   참여율에 따른 농도 표시
    *   셀 클릭/터치 시: [가능자 / 불가능자] 명단 리스트업.
*   **알고리즘 추천 (Auto Recommendation):**
    *   **🏆 Best 3 배지:** 히트맵 상단에 가장 점수가 높은 시간대 3개를 자동으로 추출하여 표시.
        *   *우선순위 로직: 참여 인원수 > 연속된 시간 길이 > 세모보다 가능 우선.*
*   **필수 참석자 필터 (VIP Filter):**
    *   호스트가 결과 화면에서 특정 인원(예: 팀장님, 주인공)을 **'VIP'**로 체크.
    *   VIP가 '불가능'한 시간대는 전체 참여율이 높아도 추천 순위에서 제외하거나 붉은색 빗금 처리.

### 3.4 [완료] 확정 및 배포 (호스트)
*   **상세 정보 입력:**
    *   시간 확정 시, 추가 필드 활성화: **[장소명/지도링크]**, **[안내사항/준비물]**.
*   **최종 확정 (Confirm):**
    *   확정 버튼 클릭 시 캘린더는 '잠금(Lock)' 상태로 전환.
    *   모든 참여자에게 확정된 시간/장소/메모가 강조된 결과 페이지 노출.
*   **공유 및 저장:**
    *   **텍스트 복사:** "📅 [모임명] 확정!\n⏰ 12/25(금) 19:00\n📍 강남역 11번 출구\n📝 회비 3만원 지참" (자동 포맷팅).
    *   **이미지 저장:** 인스타그램 스토리 공유용 결과 카드 이미지 생성.
    *   **캘린더 등록:** .ics 파일 다운로드 및 구글 캘린더 딥링크.

## 4. UI/UX 디테일 가이드

### 4.1 모바일 입력 최적화
*   **기본 제스처:** 상하좌우 스크롤.
*   **입력 제스처:**
    1.  **롱 프레스(Long Press):** 0.5초 꾹 누르면 햅틱 반응과 함께 드래그 모드 진입.
    2.  **편집 모드 토글:** 화면 하단 [편집 모드 켜기] 버튼을 누르면 스크롤이 잠기고 드래그 입력만 활성화.
*   **팔레트 UI:** 화면 하단 고정 바(Sticky Bottom Bar)에 [🟢 가능] [🟡 세모] [⚪ 지우개] 버튼 배치.

### 4.2 시각적 피드백
*   **Best 추천 하이라이트:** 히트맵 내에서 Best 1, 2, 3 구간은 금/은/동 테두리나 아이콘으로 시각적 강조.
*   **상태 표시:** '세모'는 단순 색상뿐만 아니라 사선 패턴 등을 적용하여 색약 사용자 배려.

## 5. 정책 및 운영 (Non-functional Req)

### 5.1 데이터 관리 정책
*   **유령 데이터 삭제:**
    *   생성 후 **3개월** 동안 활동(조회/수정)이 없는 캘린더는 데이터베이스 비용 절감을 위해 자동 삭제.
    *   캘린더 하단에 "이 캘린더는 202X년 X월 X일까지 유효합니다" 문구 명시.

### 5.2 타임존 (Timezone)
*   서버 저장: UTC.
*   클라이언트 표시: 접속자 로컬 타임존 자동 변환.
*   **Global Mode:** 해외 거주자가 포함된 모임일 경우, 호스트가 설정한 '기준 시간대'로 고정해서 보는 옵션 제공.

### 5.3 바이럴 및 성장 전략
*   **결과 페이지 광고(수익화 모델):**
    *   일정이 확정된 결과 페이지 하단에 모임 맥락에 맞는 광고 배너 노출 (예: 맛집 추천, 공간 대여, 배달 쿠폰).
*   **OG Tag 동적 생성:**
    *   링크 공유 시 미리보기 이미지에 "현재 3/5명 참여 완료", "Best: 금요일 7시" 등의 실시간 정보를 텍스트로 합성하여 노출 (참여 유도).

## 6. 웹 페이지 화면 기획

### 페이지 목록 및 경로 설계 (Stackflow 기준)

| 페이지 명 | Activity Name | 경로 (Route) | 설명 |
|---|---|---|---|
| 메인 페이지 | `MainActivity` | `/` | 서비스 소개 및 새로운 약속 생성 진입점 |
| 약속 생성 | `NewScheduleActivity` | `/new` | 호스트가 약속의 이름, 기간, 시간대 등 기본 정보 설정 |
| 링크 공유 | `ShareLinkActivity` | `/new/share` | 생성된 참여용/관리용 링크 확인 및 공유 |
| 일정 참여 | `JoinScheduleActivity` | `/schedule/:id` | 참여자가 닉네임/PIN 입력 후, 가능한 시간 선택 |
| 결과 확인 | `ScheduleResultActivity` | `/schedule/:id/results` | 전체 참여 현황 히트맵 및 Best 3 추천 시간 확인 |
| 최종 확정 (호스트) | `ConfirmScheduleActivity`| `/schedule/:id/confirm` | 호스트가 추천 시간 중 하나를 선택하고 장소/메모 추가 |
| 확정된 약속 | `ConfirmedActivity` | `/schedule/:id/confirmed`| 확정된 약속의 최종 정보 확인 및 공유 (텍스트, 이미지 등) |
| 로그인 | `LoginActivity` | `/login` | 소셜 로그인 (구글, 카카오) |
| 대시보드 | `DashboardActivity` | `/dashboard` | 로그인 사용자의 약속 목록 (내가 만든 방 / 참여한 방) |



### 시나리오
#### 캘린더 생성 시나리오
##### 비회원
1. 랜딩 페이지 접속
2. 시작하기 버튼 클릭
3. 소셜 로그인으로 시작
4. 이벤트 제목 및 설명 (옵션) 입력
5. 캘린더 타입 설정 주간? 월간?
6. 기간 설정 (기본 값: 월간: 오늘부터 이달 마지막 날, 주간: 오늘부터 이주 마지막 날), 기간 미설정 가능
6-1. 기간 미 설정 시, 기간 설정 필드를 비활성화
7. 제외하고 싶은 날짜 설정 (요일 옵션, 공휴일 옵션, 기타 날짜 리스트로 입력)
7-1. 기타 날짜의 경우 캘린더를 통해 날짜를 선택하고 선택된 날짜를 리스트로 보여주고, 리스트에에서 삭제할 수 있음
8. 응답 마감일 설정 (기본 값: 기간 설정의 마지막 날로 지정), 마감일 미설정 가능
8-1. 마감일 미설정 시, 마감일 설정 필드를 비활성화
9. 일정 만들기 버튼 클릭
9-1. 캘린더 생성 중... 로딩 표시
9-2. 생성 완료 시 캘린더 공유 팝업 표시
9-3. 캘린더 공유 팝업은 링크 복사 및 네이티브 공유 버튼과 일정 입력하러 가기, 대시보드로 이동 버튼 제공
9-4. 일정 입력하러 가기 버튼 선택 시, 일정 입력 화면으로 이동

##### 회원
1. 랜딩 페이지 접속
2. 로그인하여 대시보드로 이동
3. 일정 만들기 버튼 클릭
4. 비회원 4번 프로세스 동일하게 진행

#### 일정 참여 시나리오
1. 공유된 링크를 통해 웹 페이지 접속
2. 일정 제목 및 설명을 표시하고 이름 입력을 입력하여 일정 참여 가능
2-1. 이름 입력하여 참여 시 게스트 모드로 진행
2-2. 해당 화면에 로그인 옵션을 주어 회원 모드도 제공 (회원 모드는 추후 참여 일정 확인 및 수정 가능)
2-3. 해당 화면에 게스트 로그인 옵션을 주어 게스트 번호를 입력해 일정을 수정할 수 있는 기능 제공
3. 일정 입력 화면으로 이동
4. 일정 입력 화면 구성은 (일정 선택 캘린더 - 일정 제목 - 일정 설명 - 일정 기간 및 마감 일, 참여자 목록, 일정 선택 완료로 구성 )
4-1. 일정 선택 캘린더의 각 그리드에는 해당 일자의 참여 가능 인원 수 / 전체 참여자 수를 표기
4-2. 해당 표기는 참여 가능 인원 수 / 전체 참여자 수에 따른 opacity 적용 (최소 투명도 = 웹 접근성 대비 준수)
4-3. 참여 표시로 인해 배경이 칠해질 경우 해당 표기의 색상 반전
4-4. 참여자 목록은 참여 순으로 정렬
4-5. 참여자 목록의 참여자는 복수 선택이 가능하고, 선택 시 선택된 참여자들이 모두 참석 가능한 날짜를 캘린더 그리드의 테두리로 강조
4-6. 일정 복사 버튼을 통해 강조된 일정을 참여 가능하다고 표시하는 기능 제공
5. 선택 완료 시 내가 선택한 일정들을 요약해서 보여주고 게스트인 경우 게스트 번호 6자리를 보여줘
5-1. 해당 알림에서 현황 보기 버튼과 게스트인 경우 종료하기, 회원인 경우 대시보드로 이동 버튼을 추가 해줘

#### 현재 선택 현황 화면
1. 선택 현황 화면 구성은 일정 제목, 설명, 일정 기간 및 마감일, 참여자 목록, 참여자 수 차트, 일자별 상세란, 다시 수정하기 버튼, 완료 버튼
2. 참여자 목록에서 참여자는 복수 선택이 가능하고, 선택된 참여자들이 모두 참석 가능 한 일정을 차트에 도트 형태로 강조
3. 차트는 가로가 일정 세로는 참여자 수로 나열해주고, 확대 및 축소가 가능하고 스와이프하여 좌우로 이동 가능함
4. 차트의 도트 또는 일자를 누르면 해당 일자에 참석 가능한 참석자 수와 참석자 목록이 하단에 표시됨
5. 다시 수정하기 버튼을 누르면 이전 일정 입력화면으로 이동
6. 완료 시 회원일 경우 대시보드로 게스트일 경우 화면을 닫아



